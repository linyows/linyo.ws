webpackJsonp([2],{127:function(e,s,t){t(133);var o=t(16)(null,t(139),"data-v-68ed63e4",null);e.exports=o.exports},133:function(e,s){},139:function(e,s){e.exports={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",{staticClass:"container"},[t("h1",[e._v("OCTOPASS")]),t("p",{staticClass:"description"},[e._v("Management linux user and authentication with the organization/team on Github")]),e._m(0),t("nuxt-link",{staticClass:"button",attrs:{to:"/"}},[e._v("linyows")])],1)},staticRenderFns:[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"content"},[t("h2",[e._v("Description")]),t("p",[e._v("This is linux user management tool with the organization/team on github, and authentication.\n       Depending on github for user management, there are certain risks,\n       but features easy handling and ease of operation.")]),t("h2",[e._v("Usage")]),t("p",{staticClass:"img-right"},[t("img",{attrs:{alt:"Github Org/Team",src:"https://github.com/linyows/octopass/blob/master/misc/github-org-team.png?raw=true",width:"500"}})]),t("p",[e._v('For example, adding "Ken" to a team with github organization ...')]),t("p",[e._v("Octopass is a valid linux server, Ken will be able to ssh login with the key registered in github.")]),t("p",[e._v("Wow!?")]),t("p",[e._v("By octopass name resolution, you can check the id of team members of github organization.")]),t("pre",[t("code",[e._v("\n    $ id ken\n    uid=5458(ken) gid=2000(operators) groups=2000(operators)\n    ")])]),t("p",[e._v("You can also see a list like `/etc/passwd,shadow,group` by the `octopass`.\n    For detail `--help`.")]),t("pre",[t("code",[e._v("\n    $ octopass passwd\n    chun-li:x:14301:2000:managed by octopass:/home/chun-li:/bin/bash\n    dhalsim:x:8875:2000:managed by octopass:/home/dhalsim:/bin/bash\n    ken:x:5458:2000:managed by octopass:/home/ken:/bin/bash\n    ryu:x:74049:2000:managed by octopass:/home/ryu:/bin/bash\n    sagat:x:93011:2000:managed by octopass:/home/sagat:/bin/bash\n    zangief:x:8305:2000:managed by octopass:/home/zangief:/bin/bash\n    ")])]),t("p",[e._v("And octopass gets the public key from github for key authentication.")]),t("pre",[t("code",[e._v("\n    $ octopass ken\n    ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAqUJvs1vRgHRMH9dpxYcBBV687njS2YrJ+oeIKvbAbg6yL4QsJMeElcPOlmfWEYsp8vbRLXQCTvv14XJfKmgp8V9es5P/l8r5Came3X1S/muqRMONUTdygCpfyo+BJGIMVKtH8fSsBCWfJJ1EYEesyzxqc2u44yIiczM2b461tRwW+7cHNrQ6bKEY9sRMV0p/zkOdPwle30qQml+AlS1SvbrMiiJLEW75dSSENr5M+P4ciJHYXhsrgLE95+ThFPqbznZYWixxATWEYMLiK6OrSy5aYss4o9mvEBJozyrVdKyKz11zSK2D4Z/JTh8eP+NxAw5otqBmfNx+HhKRH3MhJQ==\n    ")])]),t("h2",[e._v("Why?")]),t("p",[e._v("I did not need functions like ldap, and asked for ease and ease of introduction.\n    Therefore, the user only considers it as administrator authority.\n    However, it is very easy to add a newly added user or to remove a user who leaves.")]),t("p",[e._v("Also, in order to speedily resolve names, Github API responses are file cached.\n    With this, even if Github is down, it will work if past caches remain.")]),t("h3",[e._v("Architecture")]),t("p",{staticClass:"img-center"},[t("img",{attrs:{alt:"Architecture",src:"https://github.com/linyows/octopass/blob/master/misc/architecture.png?raw=true",width:"600"}})]),t("h2",[e._v("Installation")]),t("p",[e._v("Packages are provided via "),t("a",{attrs:{href:"https://packagecloud.io/linyows/octopass"}},[e._v("packagecloud")]),e._v(".")]),t("p",[e._v("Available for:")]),t("ul",[t("li",[e._v("CentOS 7.x")]),t("li",[e._v("CentOS 6.x")]),t("li",[e._v("CentOS 5.x")]),t("li",[e._v("Ubuntu Xenial")]),t("li",[e._v("Ubuntu Trusty")]),t("li",[e._v("Ubuntu Precise")])]),t("h3",[e._v("Building from Source")]),t("p",[e._v("Dependency")]),t("ul",[t("li",[e._v("glibc")]),t("li",[e._v("libcurl")]),t("li",[e._v("jansson")])]),t("pre",[t("code",[e._v("\n    $ git clone https://github.com/linyows/octopass\n    $ make && make install\n    $ mv octopass.conf.example /etc/octopass.conf\n    ")])]),t("h2",[e._v("Configuration")]),t("p",[e._v("Edit octopass.conf:")]),t("pre",[t("code",[e._v("\n    $ mv /etc/{octopass.conf.example,octopass.conf}\n    ")])]),t("p",[e._v("Generate token from here: https://github.com/settings/tokens/new.\n    Need: Read org and team membership")]),t("h3",[e._v("SSHD Configuration")]),t("p",[e._v("/etc/ssh/sshd_config:")]),t("pre",[t("code",[e._v("\n    AuthorizedKeysCommand /usr/bin/octopass\n    AuthorizedKeysCommandUser root\n    UsePAM yes\n    PasswordAuthentication no\n    ")])]),t("h3",[e._v("PAM Configuration")]),t("h4",[e._v("Ubuntu")]),t("p",[e._v("/etc/pam.d/sshd:")]),t("pre",[t("code",[e._v("\n    #@include common-auth\n    auth requisite pam_exec.so quiet expose_authtok /usr/bin/octopass pam\n    auth optional pam_unix.so not_set_pass use_first_pass nodelay\n    session required pam_mkhomedir.so skel=/etc/skel/ umask=0022\n    ")])]),t("h4",[e._v("CentOS")]),t("p",[e._v("/etc/pam.d/system-auth-ac:")]),t("pre",[t("code",[e._v("\n    # auth        sufficient    pam_unix.so nullok try_first_pass\n    auth requisite pam_exec.so quiet expose_authtok /usr/bin/octopass pam\n    auth optional pam_unix.so not_set_pass use_first_pass nodelay\n    ")])]),t("p",[e._v("/etc/pam.d/sshd:")]),t("pre",[t("code",[e._v("\n    session required pam_mkhomedir.so skel=/etc/skel/ umask=0022\n    ")])]),t("h3",[e._v("NSS Switch Configuration")]),t("p",[e._v("/etc/nsswitch.conf:")]),t("pre",[t("code",[e._v("\n    passwd:     files octopass sss\n    shadow:     files octopass sss\n    group:      files octopass sss\n    ")])]),t("p",[e._v("Enable octopass as name resolution.")])])}]}}});